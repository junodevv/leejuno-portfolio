<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <title>leejuno</title>
</head>
<body>
<header>
    <h1>이준오의 이력서</h1>
    <p>안녕하세요 이준오의 이력서 입니다.</p>
</header>
<hr>
<button onclick="loadDocArray()">이력서보기</button>
<table class="tg">
    <thead>
    <tr>
        <th class="tg-9u18">No</th>
        <th class="tg-9u18" style="">내용</th>
        <th class="tg-9u18">등록일</th>
        <th class="tg-9u18">작성자</th>
    </tr>
    </thead>
    <tbody id = "t_body">
   <!-- <tr>-->
<!--        <td class="tg-baqh">1</td>-->
<!--        <td class="tg-baqh"> <a href="/about">자기소개</a> </td>-->
<!--        <td class="tg-baqh">2023-12-12</td>-->
<!--        <td class="tg-baqh">이준오</td>-->
<!--    </tr> -->
    </tbody>
</table>
<script>
    function loadDocArray() {
        const xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                const myAjax = JSON.parse(this.responseText);
                console.log(myAjax);
                /*JSON 데이터 넣기*/
                let ajaxTD = "";
                for(let i in myAjax.contents){
                    ajaxTD += '<tr>';
                    ajaxTD += '<td class="tg-baqh">'+ myAjax.contents[i].no +'</td>';
                    ajaxTD += '<td class="tg-baqh"> <a href="/about">' + myAjax.contents[i].title + '</a> </td>';
                    ajaxTD += '<td class="tg-baqh">'+ myAjax.contents[i].date +'</td>';
                    ajaxTD += '<td class="tg-baqh">'+ myAjax.contents[i].writer +'</td>';
                    ajaxTD += '</tr>';
                }
                document.getElementById("t_body").innerHTML = ajaxTD;
            }
        };
    
    xhttp.open("GET", "/list");
    xhttp.send();
    }
</script>
</body>
</html>
